# å›½é™…åŒ–

Name-UI æ”¯æŒå›½é™…åŒ–ï¼ˆi18nï¼‰ï¼Œè®©ä½ çš„åº”ç”¨èƒ½å¤Ÿé€‚åº”ä¸åŒçš„è¯­è¨€å’Œåœ°åŒºã€‚

::: warning å¼€å‘ä¸­
å›½é™…åŒ–åŠŸèƒ½ç›®å‰æ­£åœ¨å¼€å‘ä¸­ï¼Œå°†åœ¨ v1.1.0 ç‰ˆæœ¬ä¸­å‘å¸ƒã€‚æœ¬æ–‡æ¡£æè¿°äº†è®¡åˆ’ä¸­çš„ API è®¾è®¡ã€‚
:::

## åŸºç¡€æ¦‚å¿µ

### æ”¯æŒçš„è¯­è¨€

Name-UI è®¡åˆ’æ”¯æŒä»¥ä¸‹è¯­è¨€ï¼š

- ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡ (zh-CN) - é»˜è®¤
- ğŸ‡ºğŸ‡¸ è‹±è¯­ (en-US)
- ğŸ‡¯ğŸ‡µ æ—¥è¯­ (ja-JP)
- ğŸ‡°ğŸ‡· éŸ©è¯­ (ko-KR)
- ğŸ‡©ğŸ‡ª å¾·è¯­ (de-DE)
- ğŸ‡«ğŸ‡· æ³•è¯­ (fr-FR)
- ğŸ‡ªğŸ‡¸ è¥¿ç­ç‰™è¯­ (es-ES)

### æ–‡æœ¬ç±»å‹

å›½é™…åŒ–è¦†ç›–ä»¥ä¸‹ç±»å‹çš„æ–‡æœ¬ï¼š

- **ç»„ä»¶æ–‡æœ¬**: æŒ‰é’®é»˜è®¤æ–‡å­—ã€å ä½ç¬¦æ–‡æœ¬ç­‰
- **æ—¥æœŸæ—¶é—´**: æ—¥æœŸæ ¼å¼ã€æ˜ŸæœŸã€æœˆä»½åç§°ç­‰
- **æ•°å­—æ ¼å¼**: åƒåˆ†ä½åˆ†éš”ç¬¦ã€å°æ•°ç‚¹ç­‰
- **éªŒè¯æ¶ˆæ¯**: è¡¨å•éªŒè¯é”™è¯¯æç¤º

## ä½¿ç”¨æ–¹å¼

### Vue é…ç½®

```javascript
// main.js
import { createApp } from 'vue'
import NameUI from '@name-ui/vue'
import { zhCN, enUS } from '@name-ui/locale'

const app = createApp(App)

// é…ç½®é»˜è®¤è¯­è¨€
app.use(NameUI, {
  locale: zhCN, // æˆ– enUS
})

app.mount('#app')
```

### React é…ç½®

```tsx
// App.tsx
import React from 'react'
import { ConfigProvider } from '@name-ui/react'
import { zhCN, enUS } from '@name-ui/locale'

function App() {
  return (
    <ConfigProvider locale={zhCN}>
      <YourApp />
    </ConfigProvider>
  )
}
```

### åŠ¨æ€åˆ‡æ¢è¯­è¨€

**Vue ç¤ºä¾‹:**

```vue
<template>
  <div>
    <select v-model="currentLocale" @change="changeLocale">
      <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
      <option value="en-US">English</option>
      <option value="ja-JP">æ—¥æœ¬èª</option>
    </select>

    <n-date-picker v-model="date" />
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useLocale } from '@name-ui/vue'
import { zhCN, enUS, jaJP } from '@name-ui/locale'

const currentLocale = ref('zh-CN')
const { setLocale } = useLocale()

const locales = {
  'zh-CN': zhCN,
  'en-US': enUS,
  'ja-JP': jaJP,
}

const changeLocale = () => {
  setLocale(locales[currentLocale.value])
}
</script>
```

**React ç¤ºä¾‹:**

```tsx
import React, { useState } from 'react'
import { ConfigProvider, DatePicker } from '@name-ui/react'
import { zhCN, enUS, jaJP } from '@name-ui/locale'

const locales = {
  'zh-CN': zhCN,
  'en-US': enUS,
  'ja-JP': jaJP,
}

export default function App() {
  const [currentLocale, setCurrentLocale] = useState('zh-CN')

  return (
    <ConfigProvider locale={locales[currentLocale]}>
      <select
        value={currentLocale}
        onChange={e => setCurrentLocale(e.target.value)}
      >
        <option value='zh-CN'>ç®€ä½“ä¸­æ–‡</option>
        <option value='en-US'>English</option>
        <option value='ja-JP'>æ—¥æœ¬èª</option>
      </select>

      <DatePicker />
    </ConfigProvider>
  )
}
```

## è¯­è¨€åŒ…ç»“æ„

### å†…ç½®è¯­è¨€åŒ…

```javascript
// @name-ui/locale/zh-CN.js
export default {
  name: 'zh-CN',
  common: {
    confirm: 'ç¡®è®¤',
    cancel: 'å–æ¶ˆ',
    clear: 'æ¸…é™¤',
    loading: 'åŠ è½½ä¸­...',
    noData: 'æš‚æ— æ•°æ®',
    placeholder: 'è¯·é€‰æ‹©',
    searchPlaceholder: 'è¯·è¾“å…¥æœç´¢å†…å®¹',
  },
  button: {
    confirm: 'ç¡®è®¤',
    cancel: 'å–æ¶ˆ',
    submit: 'æäº¤',
    reset: 'é‡ç½®',
    save: 'ä¿å­˜',
    edit: 'ç¼–è¾‘',
    delete: 'åˆ é™¤',
    add: 'æ·»åŠ ',
    search: 'æœç´¢',
  },
  input: {
    placeholder: 'è¯·è¾“å…¥',
    clear: 'æ¸…é™¤',
  },
  select: {
    placeholder: 'è¯·é€‰æ‹©',
    noData: 'æ— æ•°æ®',
    loading: 'åŠ è½½ä¸­...',
  },
  datePicker: {
    placeholder: 'è¯·é€‰æ‹©æ—¥æœŸ',
    rangePlaceholder: ['å¼€å§‹æ—¥æœŸ', 'ç»“æŸæ—¥æœŸ'],
    today: 'ä»Šå¤©',
    now: 'æ­¤åˆ»',
    clear: 'æ¸…é™¤',
    month: 'æœˆ',
    year: 'å¹´',
    previousYear: 'ä¸Šä¸€å¹´',
    nextYear: 'ä¸‹ä¸€å¹´',
    previousMonth: 'ä¸Šä¸ªæœˆ',
    nextMonth: 'ä¸‹ä¸ªæœˆ',
    months: {
      1: '1æœˆ',
      2: '2æœˆ',
      3: '3æœˆ',
      4: '4æœˆ',
      5: '5æœˆ',
      6: '6æœˆ',
      7: '7æœˆ',
      8: '8æœˆ',
      9: '9æœˆ',
      10: '10æœˆ',
      11: '11æœˆ',
      12: '12æœˆ',
    },
    weeks: {
      sun: 'æ—¥',
      mon: 'ä¸€',
      tue: 'äºŒ',
      wed: 'ä¸‰',
      thu: 'å››',
      fri: 'äº”',
      sat: 'å…­',
    },
  },
  table: {
    noData: 'æš‚æ— æ•°æ®',
    loading: 'æ•°æ®åŠ è½½ä¸­...',
    total: 'å…± {total} æ¡',
    page: 'ç¬¬ {current}/{total} é¡µ',
  },
  pagination: {
    previous: 'ä¸Šä¸€é¡µ',
    next: 'ä¸‹ä¸€é¡µ',
    total: 'å…± {total} æ¡',
    goto: 'è·³è‡³',
    page: 'é¡µ',
    itemsPerPage: 'æ¡/é¡µ',
  },
  upload: {
    dragText: 'ç‚¹å‡»æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤åŒºåŸŸä¸Šä¼ ',
    hint: 'æ”¯æŒå•ä¸ªæˆ–æ‰¹é‡ä¸Šä¼ ',
    uploading: 'ä¸Šä¼ ä¸­...',
    removeFile: 'åˆ é™¤æ–‡ä»¶',
    uploadError: 'ä¸Šä¼ å¤±è´¥',
    previewFile: 'é¢„è§ˆæ–‡ä»¶',
    downloadFile: 'ä¸‹è½½æ–‡ä»¶',
  },
  form: {
    required: 'æ­¤é¡¹ä¸ºå¿…å¡«é¡¹',
    types: {
      email: 'è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±åœ°å€',
      url: 'è¯·è¾“å…¥æ­£ç¡®çš„ç½‘å€',
      number: 'è¯·è¾“å…¥æ•°å­—',
      integer: 'è¯·è¾“å…¥æ•´æ•°',
      float: 'è¯·è¾“å…¥æµ®ç‚¹æ•°',
      regex: 'æ ¼å¼ä¸æ­£ç¡®',
      method: 'éªŒè¯æ–¹æ³•ä¸æ­£ç¡®',
    },
    string: {
      min: 'è‡³å°‘è¾“å…¥ {min} ä¸ªå­—ç¬¦',
      max: 'æœ€å¤šè¾“å…¥ {max} ä¸ªå­—ç¬¦',
      range: 'è¯·è¾“å…¥ {min}-{max} ä¸ªå­—ç¬¦',
    },
    number: {
      min: 'æ•°å€¼ä¸èƒ½å°äº {min}',
      max: 'æ•°å€¼ä¸èƒ½å¤§äº {max}',
      range: 'æ•°å€¼å¿…é¡»åœ¨ {min}-{max} ä¹‹é—´',
    },
  },
}
```

### è‹±æ–‡è¯­è¨€åŒ…

```javascript
// @name-ui/locale/en-US.js
export default {
  name: 'en-US',
  common: {
    confirm: 'Confirm',
    cancel: 'Cancel',
    clear: 'Clear',
    loading: 'Loading...',
    noData: 'No data',
    placeholder: 'Please select',
    searchPlaceholder: 'Search...',
  },
  button: {
    confirm: 'Confirm',
    cancel: 'Cancel',
    submit: 'Submit',
    reset: 'Reset',
    save: 'Save',
    edit: 'Edit',
    delete: 'Delete',
    add: 'Add',
    search: 'Search',
  },
  input: {
    placeholder: 'Please input',
    clear: 'Clear',
  },
  // ... å…¶ä»–ç¿»è¯‘
}
```

## è‡ªå®šä¹‰è¯­è¨€åŒ…

### åˆ›å»ºè‡ªå®šä¹‰è¯­è¨€åŒ…

```javascript
// locales/my-locale.js
export default {
  name: 'my-locale',
  common: {
    confirm: 'My Confirm',
    cancel: 'My Cancel',
    // ... å…¶ä»–ç¿»è¯‘
  },
  // ç»§æ‰¿é»˜è®¤è¯­è¨€åŒ…çš„å…¶ä»–éƒ¨åˆ†
  ...zhCN,
  // è¦†ç›–éœ€è¦è‡ªå®šä¹‰çš„éƒ¨åˆ†
  button: {
    ...zhCN.button,
    confirm: 'My Custom Confirm',
  },
}
```

### ä½¿ç”¨è‡ªå®šä¹‰è¯­è¨€åŒ…

```javascript
// main.js
import myLocale from './locales/my-locale.js'

app.use(NameUI, {
  locale: myLocale,
})
```

## é«˜çº§åŠŸèƒ½

### å±€éƒ¨é…ç½®

ä¸ºç‰¹å®šç»„ä»¶é…ç½®ä¸åŒçš„è¯­è¨€ï¼š

**Vue ç¤ºä¾‹:**

```vue
<template>
  <div>
    <!-- å…¨å±€ä½¿ç”¨ä¸­æ–‡ -->
    <n-button>é»˜è®¤æŒ‰é’®</n-button>

    <!-- å±€éƒ¨ä½¿ç”¨è‹±æ–‡ -->
    <n-config-provider :locale="enUS">
      <n-button>English Button</n-button>
      <n-date-picker />
    </n-config-provider>
  </div>
</template>
```

**React ç¤ºä¾‹:**

```tsx
<div>
  {/* å…¨å±€ä½¿ç”¨ä¸­æ–‡ */}
  <Button>é»˜è®¤æŒ‰é’®</Button>

  {/* å±€éƒ¨ä½¿ç”¨è‹±æ–‡ */}
  <ConfigProvider locale={enUS}>
    <Button>English Button</Button>
    <DatePicker />
  </ConfigProvider>
</div>
```

### åŠ¨æ€åŠ è½½è¯­è¨€åŒ…

```javascript
// åŠ¨æ€å¯¼å…¥è¯­è¨€åŒ…
const loadLocale = async locale => {
  const localeModule = await import(`@name-ui/locale/${locale}`)
  return localeModule.default
}

// ä½¿ç”¨ç¤ºä¾‹
const changeLanguage = async locale => {
  const localeData = await loadLocale(locale)
  setLocale(localeData)
}
```

### RTL æ”¯æŒ

å¯¹äºé˜¿æ‹‰ä¼¯è¯­ã€å¸Œä¼¯æ¥è¯­ç­‰ä»å³åˆ°å·¦çš„è¯­è¨€ï¼š

```javascript
// å¯ç”¨ RTL æ”¯æŒ
import { arEG } from '@name-ui/locale'

app.use(NameUI, {
  locale: arEG,
  rtl: true,
})
```

```css
/* RTL æ ·å¼é€‚é… */
[dir='rtl'] .n-button {
  /* RTL ç‰¹å®šæ ·å¼ */
}
```

### æ—¥æœŸå’Œæ—¶é—´æ ¼å¼åŒ–

```javascript
// è‡ªå®šä¹‰æ—¥æœŸæ ¼å¼
const customLocale = {
  ...zhCN,
  datePicker: {
    ...zhCN.datePicker,
    format: 'YYYYå¹´MMæœˆDDæ—¥',
    timeFormat: 'HH:mm:ss',
  },
}
```

## æœ€ä½³å®è·µ

### 1. ç»„ç»‡ç¿»è¯‘æ–‡ä»¶

```
locales/
â”œâ”€â”€ zh-CN/
â”‚   â”œâ”€â”€ common.js
â”‚   â”œâ”€â”€ components.js
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ en-US/
â”‚   â”œâ”€â”€ common.js
â”‚   â”œâ”€â”€ components.js
â”‚   â””â”€â”€ index.js
â””â”€â”€ index.js
```

### 2. ç¿»è¯‘é”®å‘½åè§„èŒƒ

```javascript
// âœ… æ¨èï¼šæ¸…æ™°çš„å±‚çº§ç»“æ„
{
  form: {
    validation: {
      required: 'æ­¤é¡¹ä¸ºå¿…å¡«',
      email: 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®'
    }
  }
}

// âŒ ä¸æ¨èï¼šæ‰å¹³ç»“æ„
{
  formValidationRequired: 'æ­¤é¡¹ä¸ºå¿…å¡«',
  formValidationEmail: 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®'
}
```

### 3. å˜é‡æ’å€¼

æ”¯æŒåœ¨ç¿»è¯‘æ–‡æœ¬ä¸­ä½¿ç”¨å˜é‡ï¼š

```javascript
// è¯­è¨€åŒ…
{
  pagination: {
    total: 'å…± {total} æ¡è®°å½•ï¼Œç¬¬ {current} é¡µ'
  }
}

// ä½¿ç”¨
const text = t('pagination.total', { total: 100, current: 1 })
// ç»“æœï¼šå…± 100 æ¡è®°å½•ï¼Œç¬¬ 1 é¡µ
```

### 4. å¤æ•°å½¢å¼å¤„ç†

```javascript
// è‹±æ–‡å¤æ•°è§„åˆ™
{
  item: {
    zero: 'no items',
    one: '1 item',
    other: '{count} items'
  }
}

// ä¸­æ–‡æ— å¤æ•°å˜åŒ–
{
  item: '{count} ä¸ªé¡¹ç›®'
}
```

## å·¥å…·å’Œæ’ä»¶

### VS Code æ’ä»¶

æ¨èä½¿ç”¨ i18n Ally æ’ä»¶æ¥ç®¡ç†ç¿»è¯‘ï¼š

1. å®‰è£… i18n Ally æ’ä»¶
2. é…ç½® `.vscode/settings.json`ï¼š

```json
{
  "i18n-ally.localesPaths": ["src/locales"],
  "i18n-ally.keystyle": "nested",
  "i18n-ally.enabledFrameworks": ["vue", "react"]
}
```

### ç¿»è¯‘ç®¡ç†

```javascript
// ç¿»è¯‘å·¥å…·å‡½æ•°
export const useTranslation = () => {
  const { locale } = useLocale()

  const t = (key, params = {}) => {
    const keys = key.split('.')
    let value = locale.value

    for (const k of keys) {
      value = value?.[k]
    }

    if (!value) return key

    // å˜é‡æ›¿æ¢
    return Object.keys(params).reduce((text, param) => {
      return text.replace(new RegExp(`{${param}}`, 'g'), params[param])
    }, value)
  }

  return { t }
}
```

é€šè¿‡è¿™å¥—å®Œæ•´çš„å›½é™…åŒ–ç³»ç»Ÿï¼ŒName-UI å°†èƒ½å¤Ÿæ”¯æŒå…¨çƒåŒ–çš„åº”ç”¨å¼€å‘éœ€æ±‚ã€‚
